
<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>숙박 detail</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Free HTML5 Website Template by FreeHTML5.co" />
	<meta name="keywords" content="free html5, free template, free bootstrap, free website template, html5, css3, mobile first, responsive" />
	<meta name="author" content="FreeHTML5.co" />
	

	<link href="https://hangeul.pstatic.net/hangeul_static/css/nanum-barun-gothic.css" rel="stylesheet">

  	<!-- 
	//////////////////////////////////////////////////////

	FREE HTML5 TEMPLATE 
	DESIGNED & DEVELOPED by FreeHTML5.co
		
	Website: 		http://freehtml5.co/
	Email: 			info@freehtml5.co
	Twitter: 		http://twitter.com/fh5co
	Facebook: 		https://www.facebook.com/fh5co

	//////////////////////////////////////////////////////
	-->

  	<!-- Facebook and Twitter integration -->
	<meta property="og:title" content=""/>
	<meta property="og:image" content=""/>
	<meta property="og:url" content=""/>
	<meta property="og:site_name" content=""/>
	<meta property="og:description" content=""/>
	<meta name="twitter:title" content="" />
	<meta name="twitter:image" content="" />
	<meta name="twitter:url" content="" />
	<meta name="twitter:card" content="" />

	<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
	<link rel="shortcut icon" href="favicon.ico">

	<link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700" rel="stylesheet">
	
	<!-- Animate.css -->
	<link rel="stylesheet" href="css/animate.css">
	<!-- Icomoon Icon Fonts-->
	<link rel="stylesheet" href="css/icomoon.css">
	<!-- Bootstrap  -->
	<link rel="stylesheet" href="css/bootstrap.css">
	<!-- Flexslider  -->
	<link rel="stylesheet" href="css/flexslider.css">
	<!-- Theme style  -->
	<link rel="stylesheet" href="css/style.css">

	<!-- Modernizr JS -->
	<script src="js/modernizr-2.6.2.min.js"></script>
	<!-- FOR IE9 below -->
	<!--[if lt IE 9]>
	<script src="js/respond.min.js"></script>
	<![endif]-->
	<script src="./js/jquery.min.js"></script>

	<script>
		// 쿼리스트링 읽어오기
		function getParameter(paramName) {
    		let returnVal = -1;
    		let url = location.href;

    		if (url.indexOf("?") != -1) { 
    		    let queryStr = url.split("?")[1];
    		    let tmpArr = queryStr.split("&");
    		    for (let tmp of tmpArr) {
    		        if(tmp.split("=")[0] == paramName){  
    		            returnVal = tmp.split("=")[1];
    		            break;
    		        }
    		    }
    		}   
    	return returnVal;
		} 

		// 시작
		let contentId = '';		
		let changeVal = '';
		let moreYN = false;
		$(function () {
			if (
				getParameter('contentId') == null || getParameter('contentId') == -1
			) {
				location.href = 'list.html';
			} else {
				contentId = getParameter('contentId');
				// console.log(contentId);			
				moreYN = true;
				basicInfo(contentId);
			}
		})

		//기본정보 받아오기   //  moreYN = false; 기본값 사용해서 처음 출력시만 true -> parsingData, 버튼 눌러서 온거면 -> basicInfoData함수로
		function basicInfo(contentId) {
			const apiKey =
          	'LAq%2FybdsYKqtAbe1T8fBzUMyL2zn2GGMHvbKELi7l2I%2FIQs%2F0%2By%2F1wcIXgdzcF2duZszTQB0sWy5C8w%2BfXmG%2FA%3D%3D';
        	const url = `http://apis.data.go.kr/B551011/KorService1/detailCommon1?ServiceKey=${apiKey}&contentTypeId=32&contentId=${contentId}&MobileOS=ETC&MobileApp=AppTest&defaultYN=Y&firstImageYN=Y&areacodeYN=Y&catcodeYN=Y&addrinfoYN=Y&mapinfoYN=Y&overviewYN=Y&_type=json`;
		
			$.ajax({
        	  url: url,
        	  type: 'get',
        	  dataType: 'json',
        	  async: false,
        	  success: function (data) {
				if (moreYN) {
					parsingData(data);
					moreYN = false;
					basicInfoData(data);
					// slideImg(contentId);
				} else {
					basicInfoData(data);}
        	  },
        	  error: function () {},
        	  complete: function () {},
        	});
		}

		// 공통 화면 출력
		function parsingData (lodgeData) {
			let output = "";
			const lodgeArr = lodgeData.response.body.items.item;
			// console.log(lodgeArr);
			$.each(lodgeArr, function (i, item) {
				const title = item.title;
				let firstImage = item.firstimage === '' || item.firstimage == null || contentId == "2950408"
				? './images/noImg.png'
				: item.firstimage;
				const overView = item.overview;

				$("#title").html(`${title}`)
				$("#firstImage").html(`<img class="img-responsive" src="${firstImage}" alt="Free HTML5 Bootstrap Template by FreeHTML5.co">`)
				$("#overview").html(`${overView}`)
			});
		};

		// 기본정보 출력
		function basicInfoData (lodgeData) {
			console.log(lodgeData);
			let output = "";
			const lodgeArr = lodgeData.response.body.items.item;
			$.each(lodgeArr, function (i, item) {
				// item.
				// let changeOutput = '<td>${}</td><td></td>'; 
				
				


				$("#changeOutput").html(`${changeOutput}`)
			});
		};

		//이용안내 받아와서 출력
		function howToUse(contentId) {
			const apiKey =
          	'LAq%2FybdsYKqtAbe1T8fBzUMyL2zn2GGMHvbKELi7l2I%2FIQs%2F0%2By%2F1wcIXgdzcF2duZszTQB0sWy5C8w%2BfXmG%2FA%3D%3D';
        	const url = `http://apis.data.go.kr/B551011/KorService1/detailIntro1?ServiceKey=${apiKey}&contentTypeId=32&contentId=${contentId}&MobileOS=ETC&MobileApp=AppTest&_type=json`;
		
			$.ajax({
        	  url: url,
        	  type: 'get',
        	  dataType: 'json',
        	  async: false,
        	  success: function (data) {
        	    howToUseData(data); 
        	  },
        	  error: function () {},
        	  complete: function () {},
        	});
			function howToUseData (lodgeData) {
				let output = ''; 
				const lodgeArr = lodgeData.response.body.items.item;
				$.each(lodgeArr, function(i, item) {
					let changeOutput = '이용안내';
					

					
	
					$("#changeOutput").html(`${changeOutput}`)
				});
				
			}
		}

		//상세정보 받아와서 출력
		function detailsInfo(contentId) {
			const apiKey =
          	'LAq%2FybdsYKqtAbe1T8fBzUMyL2zn2GGMHvbKELi7l2I%2FIQs%2F0%2By%2F1wcIXgdzcF2duZszTQB0sWy5C8w%2BfXmG%2FA%3D%3D';
        	const url = `http://apis.data.go.kr/B551011/KorService1/detailInfo1?ServiceKey=${apiKey}&contentTypeId=32&contentId=${contentId}&MobileOS=ETC&MobileApp=AppTest&_type=json`;
		
			$.ajax({
        	  url: url,
        	  type: 'get',
        	  dataType: 'json',
        	  async: false,
        	  success: function (data) {
        	    detailsInfoData(data);
        	    
        	  },
        	  error: function () {},
        	  complete: function () {},
        	});

			function detailsInfoData (lodgeData) {
				let output = ''; 
				const lodgeArr = lodgeData.response.body.items.item;
				$.each(lodgeArr, function(i, item) {
					let changeOutput = '상세정보';
	
					$("#changeOutput").html(`${changeOutput}`)
				});
				
			}
		}

		//추가이미지 받아오기
		// function slideImg(contentId) {
		// 	const apiKey =
        //   	'LAq%2FybdsYKqtAbe1T8fBzUMyL2zn2GGMHvbKELi7l2I%2FIQs%2F0%2By%2F1wcIXgdzcF2duZszTQB0sWy5C8w%2BfXmG%2FA%3D%3D';
        // 	const url = `http://apis.data.go.kr/B551011/KorService1/detailImage1?ServiceKey=${apiKey}&contentId=${contentId}&MobileOS=ETC&MobileApp=AppTest&imageYN=Y&subImageYN=Y&numOfRows=10&_type=json`;
		
		// 	$.ajax({
        // 	  url: url,
        // 	  type: 'get',
        // 	  dataType: 'json',
        // 	  async: false,
        // 	  success: function (data) {
        // 	    slideImgData(data);
        // 	  },
        // 	  error: function () {},
        // 	  complete: function () {},
        // 	});
		// }

		// function slideImgData(imgData) {
		// 	let images = '';
		// 	const lodgeArr = imgData.response.body.items;
		// 	$.each(lodgeArr.item, function (i, item) {
		// 		console.log(lodgeArr)
		// 		let slideImg = 
		// 		lodgeArr === '' || lodgeArr === null|| item.originimgurl === '' || item.originimgurl == null || contentId == "2950408"
		// 		? './images/noImg.png'
		// 		: item.originimgurl;
		// 	console.log(slideImg)

     	// 	images += `<img class="img-responsive" src="${slideImg}" alt="Free HTML5 Bootstrap Template by FreeHTML5.co">`;
   		// 	});
			
   		// 	$('#firstImage').html(images);

    	// 	$('#firstImage').slick({
    	// 	dots: true,
    	// 	infinite: true,
    	// 	speed: 500,
    	// 	fade: true,
    	// 	arrows: true,
    	// 	cssEase: 'linear',
    	// 	accessibility: true,
    	// 	});
		// }


	</script>

	</head>
	<body>
	<div id="fh5co-page">
		<a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
		<aside id="fh5co-aside" role="complementary" class="border js-fullheight">

			<h1 id="fh5co-logo"><a href="index.html">Marble</a></h1>
			<nav id="fh5co-main-menu" role="navigation">
				<ul>
					<li><a href="index.html">Home</a></li>
					<li><a href="blog.html">Blog</a></li>
					<li><a href="portfolio.html">Portfolio</a></li>
					<li class="fh5co-active"><a href="about.html">About</a></li>
					<li><a href="contact.html">Contact</a></li>
				</ul>
			</nav>

			<div class="fh5co-footer">
				<p><small>&copy; 2016 Blend Free HTML5. All Rights Reserved.</span> <span>Designed by <a href="http://freehtml5.co/" target="_blank">FreeHTML5.co</a> </span> <span>Demo Images: <a href="https://unsplash.com/" target="_blank">Unsplash</a></span></small></p>
				<ul>
					<li><a href="#"><i class="icon-facebook2"></i></a></li>
					<li><a href="#"><i class="icon-twitter2"></i></a></li>
					<li><a href="#"><i class="icon-instagram"></i></a></li>
					<li><a href="#"><i class="icon-linkedin2"></i></a></li>
				</ul>
			</div>

		</aside>
		
				<div id="fh5co-main">
					<div class="fh5co-narrow-content">
						<div class="row row-bottom-padded-md">
							<div class="col-md-12 animate-box" data-animate-effect="fadeInLeft">
								<h2 class="fh5co-heading" id="title"></h2>
								<a href='#' class="btn btn-primary" onclick="basicInfo(contentId)">기본정보</a> 
								<a href='#' class="btn btn-primary" onclick="howToUse(contentId)">이용안내</a> 
								<a href='#' class="btn btn-primary" onclick="detailsInfo(contentId)">상세정보</a> 
							</div>
						</div>
						<div class="row row-bottom-padded-md">
							<div class="col-md-6 animate-box" data-animate-effect="fadeInLeft" id="firstImage">
							</div>
							<div class="col-md-6 animate-box" data-animate-effect="fadeInLeft"></div>
						</div>
						<div class="row row-bottom-padded-md">
							<div class="col-md-12 animate-box" data-animate-effect="fadeInLeft">
							<h4>개요</h4>
							<p id="overview"></p>
							</div>
						</div>
						<div class="row row-bottom-padded-md">
							<div class="col-md-12 animate-box" data-animate-effect="fadeInLeft">
								<tr class="table-success" id="changeOutput"> 바뀌는 상자
      							</tr>
							</div>
						</div>
					</div>
				</div> 



			

			<!--메인창 
				<div id="fh5co-main">
					<div class="fh5co-narrow-content">
						<div class="row row-bottom-padded-md">
							<div class="col-md-6 animate-box" data-animate-effect="fadeInLeft">
								<h2 class="fh5co-heading id="title"></h2>
								<a href='#' class="btn btn-primary">기본정보</a> 
								<a href='#' class="btn btn-primary">이용안내</a> 
								<a href='#' class="btn btn-primary">상세정보</a> 
							</div>
						</div>
						<div class="row row-bottom-padded-md">
							<div class="col-md-6 animate-box" data-animate-effect="fadeInLeft" id="firstImage">
								<img class="img-responsive" src="images/img_bg_1.jpg" alt="Free HTML5 Bootstrap Template by FreeHTML5.co">
							</div>
							<div class="col-md-6 animate-box" data-animate-effect="fadeInLeft">
							<p>변화하는 창</p>
							</div>
						</div>
						<div class="row row-bottom-padded-md">
							<div class="col-md-6 animate-box" data-animate-effect="fadeInLeft">
							<h4>개요</h4>
							<p>overview</p>
							</div>
						</div>
					</div>
				</div> 
			끝부분 -->
		
		</div>
	</div>

	

	<!-- jQuery -->
	<script src="js/jquery.min.js"></script>
	<!-- jQuery Easing -->
	<script src="js/jquery.easing.1.3.js"></script>
	<!-- Bootstrap -->
	<script src="js/bootstrap.min.js"></script>
	<!-- Waypoints -->
	<script src="js/jquery.waypoints.min.js"></script>
	<!-- Flexslider -->
	<script src="js/jquery.flexslider-min.js"></script>
	
	
	<!-- MAIN JS -->
	<script src="js/main.js"></script>

	</body>
</html>

